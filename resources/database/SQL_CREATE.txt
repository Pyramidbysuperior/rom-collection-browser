CREATE TABLE IF NOT EXISTS [Developer] 
(
    [id] INTEGER PRIMARY KEY AUTOINCREMENT,
    [name] TEXT NOT NULL UNIQUE
);

CREATE TABLE IF NOT EXISTS [Reviewer]
(
    [id] INTEGER PRIMARY KEY AUTOINCREMENT,
    [name] TEXT NOT NULL UNIQUE
);

CREATE TABLE IF NOT EXISTS [FileType] 
(
    [id] INTEGER PRIMARY KEY AUTOINCREMENT,
    [name] TEXT NOT NULL UNIQUE
);

CREATE TABLE IF NOT EXISTS [Genre] 
(
    [id] INTEGER PRIMARY KEY AUTOINCREMENT,
    [name] TEXT UNIQUE
);

CREATE TABLE IF NOT EXISTS [Publisher] 
(
    [id] INTEGER PRIMARY KEY AUTOINCREMENT,
    [name] NONE NOT NULL UNIQUE
);

CREATE TABLE IF NOT EXISTS [Year] 
(
    [id] INTEGER PRIMARY KEY AUTOINCREMENT,
    [name] TEXT UNIQUE
);

CREATE TABLE IF NOT EXISTS [Console] 
(
    [id] INTEGER PRIMARY KEY AUTOINCREMENT,
    [name] TEXT NOT NULL UNIQUE,
    [description] TEXT,
    [imageFileName] TEXT
);


CREATE TABLE IF NOT EXISTS [RCBSetting]
(
    [id] INTEGER PRIMARY KEY AUTOINCREMENT,
    [lastSelectedView] TEXT,
    [lastSelectedConsoleId] INTEGER REFERENCES [Console]
    (
        id
    ),	
	[lastSelectedGenreId] INTEGER REFERENCES [Genre]
    (
        id
    ),
	[lastSelectedPublisherId] INTEGER REFERENCES [Publisher]
    (
        id
    ),
    [lastSelectedYearId] INTEGER REFERENCES [Year]
    (
        id
    ),
	[lastSelectedGameId] INTEGER REFERENCES [Game]
    (
        id
    ),
	[favoriteConsoleId] INTEGER REFERENCES [Console]
    (
        id
    ),
	[favoriteGenreId] INTEGER REFERENCES [Genre]
    (
        id
    ),
	[autoexecBackupPath] TEXT
);


CREATE TABLE IF NOT EXISTS [RomCollection]
(
    [id] INTEGER PRIMARY KEY AUTOINCREMENT,
    [name] TEXT NOT NULL UNIQUE,
    [consoleId] INTEGER REFERENCES [Console]
    (
        id
    ),
    [emuCommandline] TEXT,
    [useEmuSolo] INTEGER,
    [escapeEmuCmd] INTEGER,
    [descriptionParserFile] TEXT,
	[relyOnFileNaming] INTEGER,
	[startWithDescFile] INTEGER,
	[descFilePerGame] INTEGER,
	[diskPrefix] TEXT,
	[typeOfManual] TEXT
);

CREATE TABLE IF NOT EXISTS [Game] 
(
    [id] INTEGER PRIMARY KEY AUTOINCREMENT,
    [name] TEXT NOT NULL UNIQUE,
    [description] TEXT,
	[gameCmd] TEXT,
	[alternateGameCmd] TEXT,
    [romCollectionId] INTEGER REFERENCES [RomCollection]
    (
        id
    ),    
    [publisherId] INTEGER REFERENCES [Publisher]
    (
        id
    ),
	[developerId] INTEGER REFERENCES [Developer]
    (
        id
    ),
	[reviewerId] INTEGER REFERENCES [Reviewer]
    (
        id
    ),
    [yearId] INTEGER REFERENCES [Year]
    (
        id
    ),
	[maxPlayers] TEXT,
    [rating] TEXT,
    [numVotes] INTEGER,
	[url] TEXT,
    [region] TEXT,
	[media] TEXT,
    [perspective] TEXT,
    [controller type] TEXT,
	[isFavorite] INTEGER,
	[launchCount] INTEGER
);


CREATE TABLE IF NOT EXISTS [File] 
(
    [id] INTEGER PRIMARY KEY AUTOINCREMENT,
    [name] TEXT NOT NULL,
    [fileTypeId] INTEGER NOT NULL REFERENCES [FileTypes]
    (
        id
    ),
    [gameId] INTEGER REFERENCES [Game]
    (
        id
    )
);

CREATE TABLE IF NOT EXISTS [Path] 
(
    [id] INTEGER PRIMARY KEY AUTOINCREMENT,
    [name] TEXT NOT NULL,
    [fileTypeId] INTEGER NOT NULL REFERENCES [FileTypes]
    (
        id
    ),
    [romCollectionId] INTEGER REFERENCES [RomCollection]
    (
        id
    )
);


CREATE TABLE IF NOT EXISTS [GenreGame] 
(
    [id] INTEGER PRIMARY KEY AUTOINCREMENT,
    [genreId] INTEGER REFERENCES [Genre]
    (
        id
    ),
    [gameId] INTEGER REFERENCES [Game]
    (
        id
    )
);


